/* app.module-services.min.js
 * Includes app.module.js add all services registered to the app
 * Author: Joshua Carter
 * Created: August 07, 2015
 */
"use strict";

// app.module.js
var app=angular.module("TicTacToe",[]);

// shared/Box.js
var BoxService=function(){var a=function(){this._lines=[];this._content="";return this};angular.extend(a.prototype,{isEmpty:function(){if(this._content==""){return true}return false},getPlay:function(){if(!this.isEmpty()){return this._content}return false},setPlay:function(b){if(this.isEmpty()){this._content=b;return b}return false},lines:function(){return this._lines},setLines:function(b){this._lines=b}});return a};app.factory("Box",BoxService);

// shared/Line.js
var LineService=function(){var a=function(){this._boxes=[];this._winner=false;this._status="open";return this};angular.extend(a.prototype,{updateStatus:function(){var b="win",d=false;for(var c=0;c<this._boxes.length;c++){if(this._boxes[c].isEmpty()){if(b!="open"){b="open"}}else{if(!d){d=this._boxes[c].getPlay()}else{if(this._boxes[c].getPlay()!=d){b="draw";break}}}}this._status=b;return b},getStatus:function(){return this._status},boxes:function(){return this._boxes},setBoxes:function(b){this._boxes=b}});return a};app.factory("Line",LineService);

// shared/board/Board.js
var BoardService=function(c,b){var a=function(){this.boxNames=["A1","A2","A3","B1","B2","B3","C1","C2","C3"];this.lineNames=["A","B","C","1","2","3","ABC","123"];this._boxes={};this._lines={};this._emptyBoxes=[];this.init(c,b);return this};angular.extend(a.prototype,{init:function(g,e){var d;for(var f=0;f<this.boxNames.length;f++){d=new e();this._boxes[this.boxNames[f]]=d;this._emptyBoxes.push(d)}for(var f=0;f<this.lineNames.length;f++){this._lines[this.lineNames[f]]=new g()}this._boxes.A1.setLines(this.matchLines(["A","1","ABC"]));this._boxes.A2.setLines(this.matchLines(["A","2"]));this._boxes.A3.setLines(this.matchLines(["A","3","123"]));this._boxes.B1.setLines(this.matchLines(["B","1"]));this._boxes.B2.setLines(this.matchLines(["B","2","ABC","123"]));this._boxes.B3.setLines(this.matchLines(["B","3"]));this._boxes.C1.setLines(this.matchLines(["C","1","123"]));this._boxes.C2.setLines(this.matchLines(["C","2"]));this._boxes.C3.setLines(this.matchLines(["C","3","ABC"]));this._lines.A.setBoxes(this.matchBoxes(["A1","A2","A3"]));this._lines.B.setBoxes(this.matchBoxes(["B1","B2","B3"]));this._lines.C.setBoxes(this.matchBoxes(["C1","C2","C3"]));this._lines["1"].setBoxes(this.matchBoxes(["A1","B1","C1"]));this._lines["2"].setBoxes(this.matchBoxes(["A2","B2","C2"]));this._lines["3"].setBoxes(this.matchBoxes(["A3","B3","C3"]));this._lines.ABC.setBoxes(this.matchBoxes(["A1","B2","C3"]));this._lines["123"].setBoxes(this.matchBoxes(["C1","B2","A3"]))},matchLines:function(e){var d=[];for(var f=0;f<e.length;f++){if(typeof this._lines[e[f]]!="undefined"){d.push(this._lines[e[f]])}}return d},matchBoxes:function(f){var e=[];for(var d=0;d<f.length;d++){if(typeof this._boxes[f[d]]!="undefined"){e.push(this._boxes[f[d]])}}return e},boxes:function(){return boxes},getEmptyBoxes:function(){return this._emptyBoxes},fillBox:function(d){this._emptyBoxes.splice(d,1);return this._emptyBoxes},openLines:function(){for(name in this._lines){if(this._lines[name].getStatus()=="open"){return true}}return false}});return a};BoardService.$inject=["Line","Box"];app.factory("Board",BoardService);

// shared/round/Round.js
var RoundService=function(a){var b=function(){this._board=null;this._gameOver=false;this._playCount=1;this.init(a)};angular.extend(b.prototype,{init:function(c){this._board=new c()},board:function(){return this._board},takeTurn:function(g){var j=this.board().getEmptyBoxes(),h=true,f,c,d;do{f=Math.floor(Math.random()*j.length);c=j[f];if(c.setPlay(g)){h=false}j=this.board().fillBox(f)}while(h);d=c.lines();for(var e=0;e<d.length;e++){if(d[e].updateStatus()=="win"){return true}}return false},start:function(){var d="X",c="O",e;while(!this._gameOver&&this._playCount<10){if(this.takeTurn(d)){return d}if(this._playCount>4&&!this.board().openLines()){return"draw"}e=d,d=c,c=e;this._playCount++}return"draw"}});return b};RoundService.$inject=["Board"];app.factory("Round",RoundService);

// components/game/Game.js
var GameService=function(a){var b=function(){this._rounds=[];this._scores={}};angular.extend(b.prototype,{getRounds:function(){return this._rounds},getScore:function(c){return this._scores[c]},init:function(){this._rounds=[];this._scores={X:0,O:0}},start:function(){var d,c;while(this._scores.X<10&&this._scores.O<10){d=new a();c=d.start();if(c!="draw"){(c=="X")?this._scores.X++:this._scores.O++}this._rounds.push({round:d,result:c})}}});return b};GameService.$inject=["Round"];app.factory("Game",GameService);
